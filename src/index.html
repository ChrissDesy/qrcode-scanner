<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>QrcodeScanner</title>
  <base href="/">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
</head>
<body>
  <script src="./assets/html5-qrcode.min.js"></script>
  <app-root></app-root>
  <div id="qr-reader" style="width: 600px"></div>

  <br><br> <hr> <br><br>

  <div>
    <h5>Scanned Results</h5>
    <table class="table table-bordered">
      <thead>
        <tr>
          <th>Decoded Text</th>
          <th>Full Object</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td id="dtext"></td>
          <td id="dobject"></td>
        </tr>
      </tbody>
    </table>
  </div>

  <script>
    function onScanSuccess(decodedText, decodedResult) {
		    console.log(`Code scanned = ${decodedText}`, decodedResult);

        let text1 = document.getElementById('dtext');
        let text2 = document.getElementById('dobject');

        text1.innerText = decodedText;
        text2.innerHTML = Object.values(decodedResult);
		}
		var html5QrcodeScanner = new Html5QrcodeScanner(
			"qr-reader", { fps: 10, qrbox: 250 });
			html5QrcodeScanner.render(onScanSuccess);
  </script>

</body>
</html>
